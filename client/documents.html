<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
        integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/css/fonts.css">
    <link rel="stylesheet" href="/css/documents.css">
    <link rel="stylesheet" href="/css/navigation.css">
    <link rel="icon" href="/assets/favicon/favicon-32x32.png" type="image/png">
    <title>Documents</title>
</head>

<body>
    <div class="overlay" id="overlay"></div>
    <div id="sidebarContainer"></div>
    <div id="navbarContainer"></div>

    <div class="overlay" id="overlay"></div>
    <div id="sidebarContainer-tenant"></div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="documents-section">
            <div class="controls">
                <div class="dropdown">
                    <button class="btn btn-add" onclick="toggleAddMenu()">
                        <i class="fa-solid fa-plus"></i>Add
                    </button>
                    <div class="add-dropdown-content" id="addMenu">
                        <div class="add-menu-item" onclick="showNewFolderModal()">
                            <div class="add-menu-icon"><i class="fa-solid fa-folder"></i></div>
                            <div>
                                <div class="add-menu-text">New Folder</div>
                                <div class="add-menu-desc">Create a new folder</div>
                            </div>
                        </div>
                        <div class="add-menu-item" onclick="showUploadModal()">
                            <div class="add-menu-icon"><i class="fa-solid fa-file"></i></div>
                            <div>
                                <div class="add-menu-text">Upload Files</div>
                                <div class="add-menu-desc">Upload documents and images</div>
                            </div>
                        </div>
                        <div class="add-menu-item" onclick="showAttachmentModal()">
                            <div class="add-menu-icon"><i class="fa-solid fa-paperclip"></i></div>
                            <div>
                                <div class="add-menu-text">Add Attachment</div>
                                <div class="add-menu-desc">Attach files to current folder</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="dropdown">
                    <div class="dropdown-button" onclick="toggleDropdown('tenantDropdown')">
                        <span>Tenant Name</span>
                        <span>▼</span>
                    </div>
                    <div class="dropdown-content" id="tenantDropdown">
                        <div class="dropdown-item" onclick="selectTenant('All Tenants')">All Tenants</div>
                        <div class="dropdown-item" onclick="selectTenant('Tenant A')">Tenant A</div>
                        <div class="dropdown-item" onclick="selectTenant('Tenant B')">Tenant B</div>
                        <div class="dropdown-item" onclick="selectTenant('Tenant C')">Tenant C</div>
                    </div>
                </div>

                <div class="dropdown">
                    <div class="dropdown-button" onclick="toggleDropdown('typeDropdown')">
                        <span>Type</span>
                        <span>▼</span>
                    </div>
                    <div class="dropdown-content" id="typeDropdown">
                        <div class="dropdown-item" onclick="selectType('All Types')">All Types</div>
                        <div class="dropdown-item" onclick="selectType('Folders')">Folders</div>
                        <div class="dropdown-item" onclick="selectType('Documents')">Documents</div>
                        <div class="dropdown-item" onclick="selectType('Images')">Images</div>
                    </div>
                </div>

                <div class="dropdown">
                    <div class="dropdown-button" onclick="toggleDropdown('modifiedDropdown')">
                        <span>Modified</span>
                        <span>▼</span>
                    </div>
                    <div class="dropdown-content" id="modifiedDropdown">
                        <div class="dropdown-item" onclick="selectModified('Any time')">Any time</div>
                        <div class="dropdown-item" onclick="selectModified('Today')">Today</div>
                        <div class="dropdown-item" onclick="selectModified('This week')">This week</div>
                        <div class="dropdown-item" onclick="selectModified('This month')">This month</div>
                    </div>
                </div>
            </div>

            <!-- Main Content Area -->
            <div class="main-content-docs">
                <div class="breadcrumb" id="breadcrumb">
                    <span class="breadcrumb-item" onclick="navigateToFolder('')">Documents</span>
                </div>

                <div class="content-header">
                    <div class="sort-header">
                        <span>Name</span>
                        <span>↑</span>
                    </div>
                    <div class="view-toggle">
                        <button class="view-btn active" onclick="switchView('list')" id="listBtn">
                            <i class="fas fa-list"></i>
                        </button>
                        <button class="view-btn" onclick="switchView('grid')" id="gridBtn">
                            <i class="fas fa-th"></i>
                        </button>
                    </div>
                </div>

                <div class="items-container list-view" id="itemsContainer">
                    <div class="empty-state">
                        <div class="empty-icon"><i class="fa-solid fa-folder"></i></div>
                        <h3>No documents yet</h3>
                        <p>Upload files or create folders to get started</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Context Menu -->
    <div class="context-menu" id="contextMenu"
        style="display: none; position: absolute; background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(20px); border: 1px solid rgba(102, 126, 234, 0.2); border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15); z-index: 1000; min-width: 160px; overflow: hidden;">
        <div class="context-menu-item" onclick="openItem()">
            <i class="fa-solid fa-folder-open"></i> Open
        </div>
        <div class="context-menu-item" onclick="renameItem()">
            <i class="fa-solid fa-pen-to-square"></i> Rename
        </div>
        <div class="context-menu-item danger" onclick="deleteItem()">
            <i class="fa-solid fa-trash"></i> Delete
        </div>
    </div>

    <!-- Modals -->
    <div class="modal" id="folderModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Create New Folder</h3>
            </div>
            <div class="input-group">
                <label for="folderName">Folder Name</label>
                <input type="text" id="folderName" placeholder="Enter folder name">
            </div>
            <div class="modal-actions">
                <button class="btn btn-cancel" onclick="closeModal('folderModal')">Cancel</button>
                <button class="btn btn-primary" onclick="createFolder()">Create</button>
            </div>
        </div>
    </div>

    <div class="modal" id="renameModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Rename Item</h3>
            </div>
            <div class="input-group">
                <label for="newName">New Name</label>
                <input type="text" id="newName" placeholder="Enter new name">
            </div>
            <div class="modal-actions">
                <button class="btn btn-cancel" onclick="closeModal('renameModal')">Cancel</button>
                <button class="btn btn-primary" onclick="confirmRename()">Rename</button>
            </div>
        </div>
    </div>

    <div class="modal" id="deleteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Delete Confirmation</h3>
            </div>
            <p>Are you sure you want to delete "<span id="deleteItemName"></span>"?</p>
            <div id="deleteWarning"
                style="display: none; color: #ef4444; font-size: 14px; margin-top: 16px; padding: 12px; background: rgba(239, 68, 68, 0.1); border-radius: 8px; border-left: 4px solid #ef4444;">
                <i class="fa-solid fa-triangle-exclamation"></i> This folder contains files. All contents will be
                permanently deleted.
            </div>
            <div class="modal-actions">
                <button class="btn btn-cancel" onclick="closeModal('deleteModal')">Cancel</button>
                <button class="btn btn-danger" onclick="confirmDelete()">Delete</button>
            </div>
        </div>
    </div>

    <div class="modal" id="uploadModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Upload Files</h3>
            </div>
            <div class="file-drop-zone" onclick="document.getElementById('fileInput').click()" id="dropZone">
                <p>Click here or drag files to upload</p>
                <small>Supports multiple files (PDF, DOC, DOCX, JPG, PNG, etc.)</small>
            </div>
            <input type="file" id="fileInput" style="display: none;" multiple
                accept=".pdf,.doc,.docx,.xls,.xlsx,.txt,.jpg,.jpeg,.png,.gif,.svg">
            <div class="selected-files" id="selectedFiles"></div>
            <div class="modal-actions">
                <button class="btn btn-cancel" onclick="closeModal('uploadModal')">Cancel</button>
                <button class="btn btn-primary" onclick="uploadFiles()">Upload</button>
            </div>
        </div>
    </div>

    <div class="modal" id="attachmentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add Attachment</h3>
            </div>
            <div class="file-drop-zone" onclick="document.getElementById('attachmentInput').click()"
                id="attachmentDropZone">
                <p>Click here or drag files to attach</p>
                <small>Attach files to the current folder</small>
            </div>
            <input type="file" id="attachmentInput" style="display: none;" multiple>
            <div class="selected-files" id="selectedAttachments"></div>
            <div class="modal-actions">
                <button class="btn btn-cancel" onclick="closeModal('attachmentModal')">Cancel</button>
                <button class="btn btn-primary" onclick="attachFiles()">Attach</button>
            </div>
        </div>
    </div>

    <script type="module" src="/javascript/documents.js"></script>
    <script src="/javascript/navigations.js"></script>
</body>

</html>